{"version":3,"sources":["../../../../src/lib/animation/rubberbandIfOutOfBounds.ts"],"sourcesContent":["/**\n * @author @aholachek\n *\n * @link https://twitter.com/chpwn/status/285540192096497664\n * @link https://medium.com/@nathangitter/building-fluid-interfaces-ios-swift-9732bb934bf5\n */\nimport { clamp } from '../../helpers/math';\n\nfunction rubberband(distance: number, dimension: number, constant: number) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) {\n    return Math.pow(distance, constant * 5);\n  }\n  return (distance * dimension * constant) / (dimension + constant * distance);\n}\n\nexport function rubberbandIfOutOfBounds(\n  position: number,\n  min: number,\n  max: number,\n  constant = 0.15,\n): number {\n  if (constant === 0) {\n    return clamp(position, min, max);\n  }\n  if (position < min) {\n    return -rubberband(min - position, max - min, constant) + min;\n  }\n  if (position > max) {\n    return +rubberband(position - max, max - min, constant) + max;\n  }\n  return position;\n}\n"],"names":["rubberbandIfOutOfBounds","rubberband","distance","dimension","constant","Math","abs","Infinity","pow","position","min","max","clamp"],"mappings":"AAAA;;;;;CAKC;;;;+BAUeA;;;eAAAA;;;sBATM;AAEtB,SAASC,WAAWC,QAAgB,EAAEC,SAAiB,EAAEC,QAAgB;IACvE,IAAID,cAAc,KAAKE,KAAKC,GAAG,CAACH,eAAeI,UAAU;QACvD,OAAOF,KAAKG,GAAG,CAACN,UAAUE,WAAW;IACvC;IACA,OAAO,AAACF,WAAWC,YAAYC,WAAaD,CAAAA,YAAYC,WAAWF,QAAO;AAC5E;AAEO,SAASF,wBACdS,QAAgB,EAChBC,GAAW,EACXC,GAAW,EACXP,WAAW,IAAI;IAEf,IAAIA,aAAa,GAAG;QAClB,OAAOQ,IAAAA,WAAK,EAACH,UAAUC,KAAKC;IAC9B;IACA,IAAIF,WAAWC,KAAK;QAClB,OAAO,CAACT,WAAWS,MAAMD,UAAUE,MAAMD,KAAKN,YAAYM;IAC5D;IACA,IAAID,WAAWE,KAAK;QAClB,OAAO,CAACV,WAAWQ,WAAWE,KAAKA,MAAMD,KAAKN,YAAYO;IAC5D;IACA,OAAOF;AACT"}