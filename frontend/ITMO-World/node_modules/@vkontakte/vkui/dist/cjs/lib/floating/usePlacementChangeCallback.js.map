{"version":3,"sources":["../../../../src/lib/floating/usePlacementChangeCallback.ts"],"sourcesContent":["import { usePrevious } from '../../hooks/usePrevious';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport type { OnPlacementChange, Placement, PlacementWithAuto } from './types/common';\n\nexport function usePlacementChangeCallback(\n  initialPlacement: PlacementWithAuto,\n  resolvedPlacement: Placement,\n  onPlacementChange: OnPlacementChange | undefined,\n): void {\n  const prevPlacement = usePrevious(resolvedPlacement);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!onPlacementChange) {\n      return;\n    }\n    const isInitialPlacementChanged =\n      prevPlacement === undefined && initialPlacement !== resolvedPlacement;\n    const isResolvedPlacementChanged =\n      prevPlacement !== undefined && prevPlacement !== resolvedPlacement;\n    if (isInitialPlacementChanged || isResolvedPlacementChanged) {\n      onPlacementChange(resolvedPlacement);\n    }\n  }, [prevPlacement, initialPlacement, resolvedPlacement, onPlacementChange]);\n}\n"],"names":["usePlacementChangeCallback","initialPlacement","resolvedPlacement","onPlacementChange","prevPlacement","usePrevious","useIsomorphicLayoutEffect","isInitialPlacementChanged","undefined","isResolvedPlacementChanged"],"mappings":";;;;+BAIgBA;;;eAAAA;;;6BAJY;2CACc;AAGnC,SAASA,2BACdC,gBAAmC,EACnCC,iBAA4B,EAC5BC,iBAAgD;IAEhD,MAAMC,gBAAgBC,IAAAA,wBAAW,EAACH;IAElCI,IAAAA,oDAAyB,EAAC;QACxB,IAAI,CAACH,mBAAmB;YACtB;QACF;QACA,MAAMI,4BACJH,kBAAkBI,aAAaP,qBAAqBC;QACtD,MAAMO,6BACJL,kBAAkBI,aAAaJ,kBAAkBF;QACnD,IAAIK,6BAA6BE,4BAA4B;YAC3DN,kBAAkBD;QACpB;IACF,GAAG;QAACE;QAAeH;QAAkBC;QAAmBC;KAAkB;AAC5E"}