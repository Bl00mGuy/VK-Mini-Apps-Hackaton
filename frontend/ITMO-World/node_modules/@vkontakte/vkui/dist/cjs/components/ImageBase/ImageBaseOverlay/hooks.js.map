{"version":3,"sources":["../../../../../src/components/ImageBase/ImageBaseOverlay/hooks.ts"],"sourcesContent":["import * as React from 'react';\nimport { useFocusWithin } from '../../../hooks/useFocusWithin';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\n\nexport function useNonInteractiveOverlayProps(rootRef: React.MutableRefObject<HTMLElement | null>) {\n  const focusWithin = useFocusWithin(rootRef);\n  const [nonInteractiveFocusShown, setNonInteractiveFocusShown] = React.useState(false);\n\n  function onClick(event: React.MouseEvent) {\n    if (event.detail > 0) {\n      // Если мы попали на вложенный в оверлей элемент через focus,\n      // то при клике мышкой мы должны начать реагировать на hover-состояние,\n      // даже если фокус всё ещё остался на вложенном элементе (был по нему клик)\n      setNonInteractiveFocusShown(false);\n    }\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    setNonInteractiveFocusShown(focusWithin);\n  }, [focusWithin]);\n\n  return {\n    shown: nonInteractiveFocusShown && focusWithin,\n    onClick,\n  };\n}\n"],"names":["useNonInteractiveOverlayProps","rootRef","focusWithin","useFocusWithin","nonInteractiveFocusShown","setNonInteractiveFocusShown","React","useState","onClick","event","detail","useIsomorphicLayoutEffect","shown"],"mappings":";;;;+BAIgBA;;;eAAAA;;;;iEAJO;gCACQ;2CACW;AAEnC,SAASA,8BAA8BC,OAAmD;IAC/F,MAAMC,cAAcC,IAAAA,8BAAc,EAACF;IACnC,MAAM,CAACG,0BAA0BC,4BAA4B,GAAGC,OAAMC,QAAQ,CAAC;IAE/E,SAASC,QAAQC,KAAuB;QACtC,IAAIA,MAAMC,MAAM,GAAG,GAAG;YACpB,6DAA6D;YAC7D,uEAAuE;YACvE,2EAA2E;YAC3EL,4BAA4B;QAC9B;IACF;IAEAM,IAAAA,oDAAyB,EAAC;QACxBN,4BAA4BH;IAC9B,GAAG;QAACA;KAAY;IAEhB,OAAO;QACLU,OAAOR,4BAA4BF;QACnCM;IACF;AACF"}