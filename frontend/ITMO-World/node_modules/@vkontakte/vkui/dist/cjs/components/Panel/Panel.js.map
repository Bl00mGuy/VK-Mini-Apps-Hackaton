{"version":3,"sources":["../../../../src/components/Panel/Panel.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { SizeTypeValues } from '../../lib/adaptivity';\nimport type { NavIdProps } from '../../lib/getNavId';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { AppRootContext } from '../AppRoot/AppRootContext';\nimport { NavPanelIdContext } from '../NavIdContext/NavIdContext';\nimport { OnboardingTooltipContainer } from '../OnboardingTooltip/OnboardingTooltipContainer';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Touch } from '../Touch/Touch';\nimport styles from './Panel.module.css';\n\nconst sizeXClassNames = {\n  none: styles['Panel--sizeX-none'],\n  compact: styles['Panel--sizeX-compact'],\n  regular: styles['Panel--sizeX-regular'],\n};\n\nconst stylesMode = {\n  none: styles['Panel--mode-none'],\n  plain: styles['Panel--mode-plain'],\n  card: styles['Panel--mode-card'],\n};\n\nexport interface PanelProps extends HTMLAttributesWithRootRef<HTMLDivElement>, NavIdProps {\n  centered?: boolean;\n  /**\n   * Тип оформления панели.\n   *\n   * Позволяет переопределить тип оформления панели,\n   * заданный через адаптивность или свойство layout у [AppRoot](https://vkcom.github.io/VKUI/#/AppRoot),\n   * глобально задающим тип оформления макета.\n   *\n   * Если установлен `card` - Panel имеет фон отличный от фона контента.\n   * Позволяет компоненту [Group](https://vkcom.github.io/VKUI/#/Group) со свойством mode='card' точечно выглядеть как карточка.\n   * Тип `plain` — соответствует фону по умолчанию.\n   */\n  mode?: 'plain' | 'card';\n  /**\n   * Отключает задний фон\n   */\n  disableBackground?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Panel\n */\nexport const Panel = ({\n  centered = false,\n  children,\n  nav,\n  mode: modeProp,\n  disableBackground,\n  ...restProps\n}: PanelProps): React.ReactNode => {\n  const { sizeX = 'none' } = useAdaptivity();\n\n  const mode = usePanelMode(modeProp, sizeX);\n\n  return (\n    <NavPanelIdContext.Provider value={restProps.id || nav}>\n      <RootComponent\n        {...restProps}\n        baseClassName={classNames(\n          styles['Panel'],\n          sizeXClassNames[sizeX],\n          centered && 'vkuiInternalPanel--centered',\n          disableBackground && styles['Panel--disableBackground'],\n          stylesMode[mode],\n        )}\n      >\n        <Touch\n          Component={OnboardingTooltipContainer}\n          className={classNames(styles['Panel__in'], 'vkuiInternalPanel__in')}\n        >\n          <div className={styles['Panel__in-before']} />\n          {centered ? <div className={styles['Panel__centered']}>{children}</div> : children}\n          <div className={styles['Panel__in-after']} />\n        </Touch>\n      </RootComponent>\n    </NavPanelIdContext.Provider>\n  );\n};\n\nfunction usePanelMode(\n  modeProp: PanelProps['mode'],\n  sizeX: SizeTypeValues | 'none',\n): 'plain' | 'card' | 'none' {\n  const { layout } = React.useContext(AppRootContext);\n\n  if (modeProp) {\n    return modeProp;\n  }\n\n  if (layout) {\n    return layout;\n  }\n\n  if (sizeX !== 'none') {\n    return sizeX === 'regular' ? 'card' : 'plain';\n  }\n\n  return 'none';\n}\n"],"names":["Panel","sizeXClassNames","none","compact","regular","stylesMode","plain","card","centered","children","nav","mode","modeProp","disableBackground","restProps","sizeX","useAdaptivity","usePanelMode","NavPanelIdContext","Provider","value","id","RootComponent","baseClassName","classNames","Touch","Component","OnboardingTooltipContainer","className","div","layout","React","useContext","AppRootContext"],"mappings":";;;;+BAgDaA;;;eAAAA;;;;;;;;iEAhDU;sBACI;+BACG;gCAIC;8BACG;4CACS;+BACb;uBACR;AAGtB,MAAMC,kBAAkB;IACtBC,IAAI;IACJC,OAAO;IACPC,OAAO;AACT;AAEA,MAAMC,aAAa;IACjBH,IAAI;IACJI,KAAK;IACLC,IAAI;AACN;AAyBO,MAAMP,QAAQ;QAAC,EACpBQ,WAAW,KAAK,EAChBC,QAAQ,EACRC,GAAG,EACHC,MAAMC,QAAQ,EACdC,iBAAiB,EAEN,WADRC;QALHN;QACAC;QACAC;QACAC;QACAE;;IAGA,MAAM,EAAEE,QAAQ,MAAM,EAAE,GAAGC,IAAAA,4BAAa;IAExC,MAAML,OAAOM,aAAaL,UAAUG;IAEpC,qBACE,qBAACG,+BAAiB,CAACC,QAAQ;QAACC,OAAON,UAAUO,EAAE,IAAIX;kBACjD,cAAA,qBAACY,4BAAa,8CACRR;YACJS,eAAeC,IAAAA,gBAAU,eAEvBvB,eAAe,CAACc,MAAM,EACtBP,YAAY,+BACZK,qDACAR,UAAU,CAACM,KAAK;sBAGlB,cAAA,sBAACc,YAAK;gBACJC,WAAWC,sDAA0B;gBACrCC,WAAWJ,IAAAA,gBAAU,mBAAsB;;kCAE3C,qBAACK;wBAAID,SAAS;;oBACbpB,yBAAW,qBAACqB;wBAAID,SAAS;kCAA8BnB;yBAAkBA;kCAC1E,qBAACoB;wBAAID,SAAS;;;;;;AAKxB;AAEA,SAASX,aACPL,QAA4B,EAC5BG,KAA8B;IAE9B,MAAM,EAAEe,MAAM,EAAE,GAAGC,OAAMC,UAAU,CAACC,8BAAc;IAElD,IAAIrB,UAAU;QACZ,OAAOA;IACT;IAEA,IAAIkB,QAAQ;QACV,OAAOA;IACT;IAEA,IAAIf,UAAU,QAAQ;QACpB,OAAOA,UAAU,YAAY,SAAS;IACxC;IAEA,OAAO;AACT"}