{"version":3,"sources":["../../../src/hooks/useMediaQueries.ts"],"sourcesContent":["import * as React from 'react';\nimport { MEDIA_QUERIES, type MediaQueries } from '../lib/adaptivity';\nimport { mediaQueryNull } from '../lib/browser';\nimport { useDOM } from '../lib/dom';\n\nconst mediaQueriesCache = new WeakMap<Window, MediaQueries>();\n\nfunction getMediaQueries(matchMedia: (query: string) => MediaQueryList): MediaQueries {\n  return {\n    desktopPlus: matchMedia(MEDIA_QUERIES.DESKTOP_PLUS),\n    smallTabletPlus: matchMedia(MEDIA_QUERIES.SMALL_TABLET_PLUS),\n    tablet: matchMedia(MEDIA_QUERIES.TABLET),\n    smallTablet: matchMedia(MEDIA_QUERIES.SMALL_TABLET),\n    mobile: matchMedia(MEDIA_QUERIES.MOBILE),\n    mediumHeight: matchMedia(MEDIA_QUERIES.MEDIUM_HEIGHT),\n    mobileLandscapeHeight: matchMedia(MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT),\n  };\n}\n\n/**\n * Возвращает медиа выражения определенные дизайн-системой.\n */\nexport const useMediaQueries = (): MediaQueries => {\n  const { window } = useDOM();\n\n  return React.useMemo<MediaQueries>(\n    function initializeStoreOrUpdateStoreIfWindowChanges() {\n      if (!window) {\n        return getMediaQueries(mediaQueryNull);\n      }\n\n      const storedMediaQueries = mediaQueriesCache.get(window);\n      if (storedMediaQueries) {\n        return storedMediaQueries;\n      }\n\n      const mediaQueries = getMediaQueries(window.matchMedia.bind(window));\n\n      mediaQueriesCache.set(window, mediaQueries);\n\n      return mediaQueries;\n    },\n    [window],\n  );\n};\n"],"names":["useMediaQueries","mediaQueriesCache","WeakMap","getMediaQueries","matchMedia","desktopPlus","MEDIA_QUERIES","DESKTOP_PLUS","smallTabletPlus","SMALL_TABLET_PLUS","tablet","TABLET","smallTablet","SMALL_TABLET","mobile","MOBILE","mediumHeight","MEDIUM_HEIGHT","mobileLandscapeHeight","MOBILE_LANDSCAPE_HEIGHT","window","useDOM","React","useMemo","initializeStoreOrUpdateStoreIfWindowChanges","mediaQueryNull","storedMediaQueries","get","mediaQueries","bind","set"],"mappings":";;;;+BAsBaA;;;eAAAA;;;;iEAtBU;4BAC0B;yBAClB;qBACR;AAEvB,MAAMC,oBAAoB,IAAIC;AAE9B,SAASC,gBAAgBC,UAA6C;IACpE,OAAO;QACLC,aAAaD,WAAWE,yBAAa,CAACC,YAAY;QAClDC,iBAAiBJ,WAAWE,yBAAa,CAACG,iBAAiB;QAC3DC,QAAQN,WAAWE,yBAAa,CAACK,MAAM;QACvCC,aAAaR,WAAWE,yBAAa,CAACO,YAAY;QAClDC,QAAQV,WAAWE,yBAAa,CAACS,MAAM;QACvCC,cAAcZ,WAAWE,yBAAa,CAACW,aAAa;QACpDC,uBAAuBd,WAAWE,yBAAa,CAACa,uBAAuB;IACzE;AACF;AAKO,MAAMnB,kBAAkB;IAC7B,MAAM,EAAEoB,MAAM,EAAE,GAAGC,IAAAA,WAAM;IAEzB,OAAOC,OAAMC,OAAO,CAClB,SAASC;QACP,IAAI,CAACJ,QAAQ;YACX,OAAOjB,gBAAgBsB,uBAAc;QACvC;QAEA,MAAMC,qBAAqBzB,kBAAkB0B,GAAG,CAACP;QACjD,IAAIM,oBAAoB;YACtB,OAAOA;QACT;QAEA,MAAME,eAAezB,gBAAgBiB,OAAOhB,UAAU,CAACyB,IAAI,CAACT;QAE5DnB,kBAAkB6B,GAAG,CAACV,QAAQQ;QAE9B,OAAOA;IACT,GACA;QAACR;KAAO;AAEZ"}