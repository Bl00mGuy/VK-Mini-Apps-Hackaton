{"version":3,"sources":["../../../src/hooks/useMutationObserver.ts"],"sourcesContent":["import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useStableCallback } from './useStableCallback';\n\nexport const useMutationObserver = (\n  ref: React.MutableRefObject<HTMLElement | null> | React.RefObject<HTMLElement | null> | null,\n  callback: () => void,\n): void => {\n  const stableCallback = useStableCallback(callback);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref || !ref.current) {\n      return;\n    }\n    const observer = new MutationObserver(stableCallback);\n    observer.observe(ref.current, {\n      subtree: true,\n      childList: true,\n    });\n    return () => observer.disconnect();\n  }, [ref, stableCallback]);\n};\n"],"names":["useMutationObserver","ref","callback","stableCallback","useStableCallback","useIsomorphicLayoutEffect","current","observer","MutationObserver","observe","subtree","childList","disconnect"],"mappings":";;;;+BAIaA;;;eAAAA;;;2CAH6B;mCACR;AAE3B,MAAMA,sBAAsB,CACjCC,KACAC;IAEA,MAAMC,iBAAiBC,IAAAA,oCAAiB,EAACF;IAEzCG,IAAAA,oDAAyB,EAAC;QACxB,IAAI,CAACJ,OAAO,CAACA,IAAIK,OAAO,EAAE;YACxB;QACF;QACA,MAAMC,WAAW,IAAIC,iBAAiBL;QACtCI,SAASE,OAAO,CAACR,IAAIK,OAAO,EAAE;YAC5BI,SAAS;YACTC,WAAW;QACb;QACA,OAAO,IAAMJ,SAASK,UAAU;IAClC,GAAG;QAACX;QAAKE;KAAe;AAC1B"}