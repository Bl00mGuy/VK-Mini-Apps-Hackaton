{"version":3,"sources":["../../../src/components/DropZone/DropZone.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { callMultiple } from '../../lib/callMultiple';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { DropZoneGrid } from './components/DropZoneGrid';\nimport styles from './DropZone.module.css';\n\ninterface DropZonePropsChildrenProps {\n  active: boolean;\n}\n\nexport interface DropZoneProps extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'children'> {\n  children?: React.ReactNode | ((renderProps: DropZonePropsChildrenProps) => React.ReactNode);\n}\n\n/**\n * Компонент позволяет пользователям загружать файлы, перетаскивая файлы в\n * область на странице.\n *\n * @since 6.1.0\n * @see https://vkcom.github.io/VKUI/#/DropZone\n */\nexport const DropZone: React.FC<DropZoneProps> & {\n  Grid: typeof DropZoneGrid;\n} = ({ onDragOver, onDragLeave, onDrop, children, ...props }: DropZoneProps): React.ReactNode => {\n  const [active, setActive] = React.useState(false);\n\n  const onActive: React.DragEventHandler<HTMLDivElement> = (event) => {\n    if (event.isPropagationStopped()) {\n      return;\n    }\n\n    setActive(true);\n  };\n\n  const offActive: React.DragEventHandler<HTMLDivElement> = () => {\n    setActive(false);\n  };\n\n  return (\n    <RootComponent\n      baseClassName={classNames(styles['DropZone'], active && styles['DropZone--active'])}\n      onDragOver={callMultiple(onDragOver, onActive)}\n      onDragLeave={callMultiple(onDragLeave, offActive)}\n      onDrop={callMultiple(onDrop, offActive)}\n      {...props}\n    >\n      {typeof children === 'function' ? children({ active }) : children}\n    </RootComponent>\n  );\n};\n\nDropZone.displayName = 'DropZone';\n\nDropZone.Grid = DropZoneGrid;\nDropZone.Grid.displayName = 'DropZone.Grid';\n"],"names":["React","classNames","callMultiple","RootComponent","DropZoneGrid","DropZone","onDragOver","onDragLeave","onDrop","children","props","active","setActive","useState","onActive","event","isPropagationStopped","offActive","baseClassName","displayName","Grid"],"mappings":";;;;AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,YAAY,QAAQ,yBAAyB;AAEtD,SAASC,aAAa,QAAQ,iCAAiC;AAC/D,SAASC,YAAY,QAAQ,4BAA4B;AAWzD;;;;;;CAMC,GACD,OAAO,MAAMC,WAET;QAAC,EAAEC,UAAU,EAAEC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,EAA2B,WAAtBC;QAA9CJ;QAAYC;QAAaC;QAAQC;;IACtC,MAAM,CAACE,QAAQC,UAAU,GAAGZ,MAAMa,QAAQ,CAAC;IAE3C,MAAMC,WAAmD,CAACC;QACxD,IAAIA,MAAMC,oBAAoB,IAAI;YAChC;QACF;QAEAJ,UAAU;IACZ;IAEA,MAAMK,YAAoD;QACxDL,UAAU;IACZ;IAEA,qBACE,KAACT;QACCe,eAAejB,2BAA+BU;QAC9CL,YAAYJ,aAAaI,YAAYQ;QACrCP,aAAaL,aAAaK,aAAaU;QACvCT,QAAQN,aAAaM,QAAQS;OACzBP;kBAEH,OAAOD,aAAa,aAAaA,SAAS;YAAEE;QAAO,KAAKF;;AAG/D,EAAE;AAEFJ,SAASc,WAAW,GAAG;AAEvBd,SAASe,IAAI,GAAGhB;AAChBC,SAASe,IAAI,CAACD,WAAW,GAAG"}