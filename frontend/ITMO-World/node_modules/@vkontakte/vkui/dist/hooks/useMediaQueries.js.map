{"version":3,"sources":["../../src/hooks/useMediaQueries.ts"],"sourcesContent":["import * as React from 'react';\nimport { MEDIA_QUERIES, type MediaQueries } from '../lib/adaptivity';\nimport { mediaQueryNull } from '../lib/browser';\nimport { useDOM } from '../lib/dom';\n\nconst mediaQueriesCache = new WeakMap<Window, MediaQueries>();\n\nfunction getMediaQueries(matchMedia: (query: string) => MediaQueryList): MediaQueries {\n  return {\n    desktopPlus: matchMedia(MEDIA_QUERIES.DESKTOP_PLUS),\n    smallTabletPlus: matchMedia(MEDIA_QUERIES.SMALL_TABLET_PLUS),\n    tablet: matchMedia(MEDIA_QUERIES.TABLET),\n    smallTablet: matchMedia(MEDIA_QUERIES.SMALL_TABLET),\n    mobile: matchMedia(MEDIA_QUERIES.MOBILE),\n    mediumHeight: matchMedia(MEDIA_QUERIES.MEDIUM_HEIGHT),\n    mobileLandscapeHeight: matchMedia(MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT),\n  };\n}\n\n/**\n * Возвращает медиа выражения определенные дизайн-системой.\n */\nexport const useMediaQueries = (): MediaQueries => {\n  const { window } = useDOM();\n\n  return React.useMemo<MediaQueries>(\n    function initializeStoreOrUpdateStoreIfWindowChanges() {\n      if (!window) {\n        return getMediaQueries(mediaQueryNull);\n      }\n\n      const storedMediaQueries = mediaQueriesCache.get(window);\n      if (storedMediaQueries) {\n        return storedMediaQueries;\n      }\n\n      const mediaQueries = getMediaQueries(window.matchMedia.bind(window));\n\n      mediaQueriesCache.set(window, mediaQueries);\n\n      return mediaQueries;\n    },\n    [window],\n  );\n};\n"],"names":["React","MEDIA_QUERIES","mediaQueryNull","useDOM","mediaQueriesCache","WeakMap","getMediaQueries","matchMedia","desktopPlus","DESKTOP_PLUS","smallTabletPlus","SMALL_TABLET_PLUS","tablet","TABLET","smallTablet","SMALL_TABLET","mobile","MOBILE","mediumHeight","MEDIUM_HEIGHT","mobileLandscapeHeight","MOBILE_LANDSCAPE_HEIGHT","useMediaQueries","window","useMemo","initializeStoreOrUpdateStoreIfWindowChanges","storedMediaQueries","get","mediaQueries","bind","set"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,aAAa,QAA2B,oBAAoB;AACrE,SAASC,cAAc,QAAQ,iBAAiB;AAChD,SAASC,MAAM,QAAQ,aAAa;AAEpC,MAAMC,oBAAoB,IAAIC;AAE9B,SAASC,gBAAgBC,UAA6C;IACpE,OAAO;QACLC,aAAaD,WAAWN,cAAcQ,YAAY;QAClDC,iBAAiBH,WAAWN,cAAcU,iBAAiB;QAC3DC,QAAQL,WAAWN,cAAcY,MAAM;QACvCC,aAAaP,WAAWN,cAAcc,YAAY;QAClDC,QAAQT,WAAWN,cAAcgB,MAAM;QACvCC,cAAcX,WAAWN,cAAckB,aAAa;QACpDC,uBAAuBb,WAAWN,cAAcoB,uBAAuB;IACzE;AACF;AAEA;;CAEC,GACD,OAAO,MAAMC,kBAAkB;IAC7B,MAAM,EAAEC,MAAM,EAAE,GAAGpB;IAEnB,OAAOH,MAAMwB,OAAO,CAClB,SAASC;QACP,IAAI,CAACF,QAAQ;YACX,OAAOjB,gBAAgBJ;QACzB;QAEA,MAAMwB,qBAAqBtB,kBAAkBuB,GAAG,CAACJ;QACjD,IAAIG,oBAAoB;YACtB,OAAOA;QACT;QAEA,MAAME,eAAetB,gBAAgBiB,OAAOhB,UAAU,CAACsB,IAAI,CAACN;QAE5DnB,kBAAkB0B,GAAG,CAACP,QAAQK;QAE9B,OAAOA;IACT,GACA;QAACL;KAAO;AAEZ,EAAE"}