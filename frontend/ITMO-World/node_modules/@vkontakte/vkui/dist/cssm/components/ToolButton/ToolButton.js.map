{"version":3,"sources":["../../../../src/components/ToolButton/ToolButton.tsx"],"sourcesContent":["import { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport {\n  AdaptiveIconRenderer,\n  type AdaptiveIconRendererProps,\n} from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { Tappable, type TappableProps } from '../Tappable/Tappable';\nimport styles from './ToolButton.module.css';\n\nconst stylesMode = {\n  primary: styles['ToolButton--mode-primary'],\n  secondary: styles['ToolButton--mode-secondary'],\n  tertiary: styles['ToolButton--mode-tertiary'],\n  outline: styles['ToolButton--mode-outline'],\n};\n\nconst stylesAppearance = {\n  accent: styles['ToolButton--appearance-accent'],\n  neutral: styles['ToolButton--appearance-neutral'],\n};\n\nconst stylesDirection = {\n  row: styles['ToolButton--direction-row'],\n  column: styles['ToolButton--direction-column'],\n};\n\nconst sizeYClassNames = {\n  none: styles['ToolButton--sizeY-none'],\n  regular: styles['ToolButton--sizeY-regular'],\n};\n\nexport interface ToolButtonProps extends TappableProps, AdaptiveIconRendererProps {\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline';\n  appearance?: 'accent' | 'neutral';\n  direction?: 'row' | 'column';\n  /**\n   * Задаёт `50%` закругления для контейнера.\n   *\n   * > Note: игнорируется при `direction=\"column\"` если передан `children`.\n   */\n  rounded?: boolean;\n}\n\n/**\n * Кнопки, которые используются для вызова инструмента, вставки аттачей или\n * для форматирования. Их можно использовать как кнопки для разового действия\n * или для включения/выключения режима.\n *\n * @see https://vkcom.github.io/VKUI/#/ToolButton\n */\nexport const ToolButton = ({\n  mode = 'primary',\n  appearance = 'accent',\n  direction = 'row',\n  className,\n  children,\n  IconCompact,\n  IconRegular,\n  rounded,\n  ...restProps\n}: ToolButtonProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const hasChildren = hasReactNode(children);\n\n  return (\n    <Tappable\n      hoverMode={styles['ToolButton--hover']}\n      activeMode={styles['ToolButton--active']}\n      Component={restProps.href ? 'a' : 'button'}\n      focusVisibleMode=\"outside\"\n      className={classNames(\n        className,\n        styles['ToolButton'],\n        rounded && getRoundedClassName(direction, hasChildren),\n        hasChildren && direction === 'row' && styles['ToolButton--withFakeEndIcon'],\n        stylesMode[mode],\n        stylesAppearance[appearance],\n        stylesDirection[direction],\n        sizeY !== 'compact' && sizeYClassNames[sizeY],\n      )}\n      {...restProps}\n    >\n      <AdaptiveIconRenderer IconCompact={IconCompact} IconRegular={IconRegular} />\n      {hasChildren && <span className={styles['ToolButton__text']}>{children}</span>}\n    </Tappable>\n  );\n};\n\nexport function getRoundedClassName(\n  direction: 'row' | 'column',\n  hasChildren: boolean,\n): string | undefined {\n  switch (direction) {\n    case 'row':\n      return styles['ToolButton--rounded'];\n    case 'column':\n      return hasChildren ? undefined : styles['ToolButton--rounded'];\n  }\n}\n"],"names":["classNames","hasReactNode","useAdaptivity","AdaptiveIconRenderer","Tappable","styles","stylesMode","primary","secondary","tertiary","outline","stylesAppearance","accent","neutral","stylesDirection","row","column","sizeYClassNames","none","regular","ToolButton","mode","appearance","direction","className","children","IconCompact","IconRegular","rounded","restProps","sizeY","hasChildren","hoverMode","activeMode","Component","href","focusVisibleMode","getRoundedClassName","span","undefined"],"mappings":";AAAA,SAASA,UAAU,EAAEC,YAAY,QAAQ,kBAAkB;AAC3D,SAASC,aAAa,QAAQ,4BAA4B;AAC1D,SACEC,oBAAoB,QAEf,+CAA+C;AACtD,SAASC,QAAQ,QAA4B,uBAAuB;AACpE,OAAOC,YAAY,0BAA0B;AAE7C,MAAMC,aAAa;IACjBC,SAASF,MAAM,CAAC,2BAA2B;IAC3CG,WAAWH,MAAM,CAAC,6BAA6B;IAC/CI,UAAUJ,MAAM,CAAC,4BAA4B;IAC7CK,SAASL,MAAM,CAAC,2BAA2B;AAC7C;AAEA,MAAMM,mBAAmB;IACvBC,QAAQP,MAAM,CAAC,gCAAgC;IAC/CQ,SAASR,MAAM,CAAC,iCAAiC;AACnD;AAEA,MAAMS,kBAAkB;IACtBC,KAAKV,MAAM,CAAC,4BAA4B;IACxCW,QAAQX,MAAM,CAAC,+BAA+B;AAChD;AAEA,MAAMY,kBAAkB;IACtBC,MAAMb,MAAM,CAAC,yBAAyB;IACtCc,SAASd,MAAM,CAAC,4BAA4B;AAC9C;AAcA;;;;;;CAMC,GACD,OAAO,MAAMe,aAAa,CAAC,EACzBC,OAAO,SAAS,EAChBC,aAAa,QAAQ,EACrBC,YAAY,KAAK,EACjBC,SAAS,EACTC,QAAQ,EACRC,WAAW,EACXC,WAAW,EACXC,OAAO,EACP,GAAGC,WACa;IAChB,MAAM,EAAEC,QAAQ,MAAM,EAAE,GAAG5B;IAC3B,MAAM6B,cAAc9B,aAAawB;IAEjC,qBACE,MAACrB;QACC4B,WAAW3B,MAAM,CAAC,oBAAoB;QACtC4B,YAAY5B,MAAM,CAAC,qBAAqB;QACxC6B,WAAWL,UAAUM,IAAI,GAAG,MAAM;QAClCC,kBAAiB;QACjBZ,WAAWxB,WACTwB,WACAnB,MAAM,CAAC,aAAa,EACpBuB,WAAWS,oBAAoBd,WAAWQ,cAC1CA,eAAeR,cAAc,SAASlB,MAAM,CAAC,8BAA8B,EAC3EC,UAAU,CAACe,KAAK,EAChBV,gBAAgB,CAACW,WAAW,EAC5BR,eAAe,CAACS,UAAU,EAC1BO,UAAU,aAAab,eAAe,CAACa,MAAM;QAE9C,GAAGD,SAAS;;0BAEb,KAAC1B;gBAAqBuB,aAAaA;gBAAaC,aAAaA;;YAC5DI,6BAAe,KAACO;gBAAKd,WAAWnB,MAAM,CAAC,mBAAmB;0BAAGoB;;;;AAGpE,EAAE;AAEF,OAAO,SAASY,oBACdd,SAA2B,EAC3BQ,WAAoB;IAEpB,OAAQR;QACN,KAAK;YACH,OAAOlB,MAAM,CAAC,sBAAsB;QACtC,KAAK;YACH,OAAO0B,cAAcQ,YAAYlC,MAAM,CAAC,sBAAsB;IAClE;AACF"}