{"version":3,"sources":["../../../../src/components/Textarea/useResizeTextarea.ts"],"sourcesContent":["import * as React from 'react';\n\nexport function useResizeTextarea(\n  onResize: ((el: HTMLTextAreaElement) => void) | undefined,\n  grow: boolean,\n): readonly [React.RefObject<HTMLTextAreaElement>, () => void] {\n  const elementRef = React.useRef<HTMLTextAreaElement>(null);\n  const currentScrollHeight = React.useRef<number>();\n\n  const resizeElement = React.useCallback(\n    (el: HTMLTextAreaElement) => {\n      if (grow && el.offsetParent) {\n        el.style.height = '';\n        el.style.height = `${el.scrollHeight}px`;\n\n        if (el.scrollHeight !== currentScrollHeight.current && onResize) {\n          onResize(el);\n          currentScrollHeight.current = el.scrollHeight;\n        }\n      }\n    },\n    [grow, onResize],\n  );\n\n  const resize = React.useCallback(() => {\n    const el = elementRef.current;\n    if (!el) {\n      /* istanbul ignore next: нет возможности воспроизвести */\n      return;\n    }\n\n    resizeElement(el);\n  }, [elementRef, resizeElement]);\n\n  return [elementRef, resize];\n}\n"],"names":["React","useResizeTextarea","onResize","grow","elementRef","useRef","currentScrollHeight","resizeElement","useCallback","el","offsetParent","style","height","scrollHeight","current","resize"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAE/B,OAAO,SAASC,kBACdC,QAAyD,EACzDC,IAAa;IAEb,MAAMC,aAAaJ,MAAMK,MAAM,CAAsB;IACrD,MAAMC,sBAAsBN,MAAMK,MAAM;IAExC,MAAME,gBAAgBP,MAAMQ,WAAW,CACrC,CAACC;QACC,IAAIN,QAAQM,GAAGC,YAAY,EAAE;YAC3BD,GAAGE,KAAK,CAACC,MAAM,GAAG;YAClBH,GAAGE,KAAK,CAACC,MAAM,GAAG,CAAC,EAAEH,GAAGI,YAAY,CAAC,EAAE,CAAC;YAExC,IAAIJ,GAAGI,YAAY,KAAKP,oBAAoBQ,OAAO,IAAIZ,UAAU;gBAC/DA,SAASO;gBACTH,oBAAoBQ,OAAO,GAAGL,GAAGI,YAAY;YAC/C;QACF;IACF,GACA;QAACV;QAAMD;KAAS;IAGlB,MAAMa,SAASf,MAAMQ,WAAW,CAAC;QAC/B,MAAMC,KAAKL,WAAWU,OAAO;QAC7B,IAAI,CAACL,IAAI;YACP,uDAAuD,GACvD;QACF;QAEAF,cAAcE;IAChB,GAAG;QAACL;QAAYG;KAAc;IAE9B,OAAO;QAACH;QAAYW;KAAO;AAC7B"}