{"version":3,"sources":["../../../../src/components/Header/Header.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, hasReactNode, isPrimitiveReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Header.module.css';\n\nexport interface HeaderProps extends HTMLAttributesWithRootRef<HTMLElement>, HasComponent {\n  mode?: 'primary' | 'secondary' | 'tertiary';\n  size?: 'regular' | 'large';\n  subtitle?: React.ReactNode;\n  /* Позволяет задать тип элемента в который будет обёрнут subtitle */\n  subtitleComponent?: React.ElementType;\n  /**\n   * Допускаются иконки, текст, Link\n   */\n  aside?: React.ReactNode;\n  /**\n   * Допускаются текст, Indicator\n   */\n  indicator?: React.ReactNode;\n  multiline?: boolean;\n  /**\n   * Иконка слева (рекомендуется использовать размер 28px)\n   */\n  before?: React.ReactNode;\n  /**\n   * Иконка слева от title (рекомендуется использовать размер 16px)\n   */\n  beforeTitle?: React.ReactNode;\n  /**\n   * Иконка справа от title (рекомендуется использовать размер 16px)\n   */\n  afterTitle?: React.ReactNode;\n  /**\n   * Иконка слева от subtitle (рекомендуется использовать размер 12px)\n   */\n  beforeSubtitle?: React.ReactNode;\n  /**\n   * Иконка справа от subtitle (рекомендуется использовать размер 12px)\n   */\n  afterSubtitle?: React.ReactNode;\n}\n\ntype HeaderContentProps = Pick<HeaderProps, 'children' | 'mode' | 'size' | 'className'> &\n  HasComponent;\n\nconst HeaderContent = ({ mode, size, ...restProps }: HeaderContentProps) => {\n  const isLarge = size === 'large';\n\n  const platform = usePlatform();\n  if (platform === 'ios') {\n    switch (mode) {\n      case 'primary':\n        return isLarge ? (\n          <Title level=\"2\" weight=\"2\" {...restProps} />\n        ) : (\n          <Title weight=\"1\" level=\"3\" {...restProps} />\n        );\n      case 'secondary':\n        return <Footnote weight=\"1\" caps {...restProps} />;\n      case 'tertiary':\n        return <Title weight=\"1\" level=\"3\" {...restProps} />;\n    }\n  }\n\n  switch (mode) {\n    case 'primary':\n      return isLarge ? (\n        <Title level=\"2\" weight=\"2\" {...restProps} />\n      ) : (\n        <Headline weight=\"2\" {...restProps} />\n      );\n    case 'secondary':\n      return <Footnote weight=\"1\" caps {...restProps} />;\n    case 'tertiary':\n      return <Headline weight=\"2\" {...restProps} />;\n  }\n\n  return null;\n};\n\nconst stylesMode = {\n  primary: styles['Header--mode-primary'],\n  secondary: styles['Header--mode-secondary'],\n  tertiary: styles['Header--mode-tertiary'],\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/Header\n */\nexport const Header = ({\n  mode = 'primary',\n  size = 'regular',\n  Component = 'h2',\n  children,\n  subtitle,\n  subtitleComponent = 'span',\n  indicator,\n  aside,\n  multiline,\n  before,\n  beforeTitle,\n  afterTitle,\n  beforeSubtitle,\n  afterSubtitle,\n  ...restProps\n}: HeaderProps): React.ReactNode => {\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles['Header'],\n        stylesMode[mode],\n        size === 'large' && styles['Header--large'],\n        isPrimitiveReactNode(indicator) && styles['Header--pi'],\n        hasReactNode(subtitle) && styles['Header--with-subtitle'],\n      )}\n    >\n      {before && (\n        <div\n          className={classNames(\n            styles['Header__before'],\n            subtitle && styles['Header__before--withSubtitle'],\n          )}\n        >\n          {before}\n        </div>\n      )}\n      <div className={styles['Header__main']}>\n        <HeaderContent\n          className={styles['Header__content']}\n          Component={Component}\n          mode={mode}\n          size={size}\n        >\n          {beforeTitle && <div className={styles['Header__content__before']}>{beforeTitle}</div>}\n          <span\n            className={classNames(\n              styles['Header__content-in'],\n              multiline && styles['Header__content--multiline'],\n            )}\n          >\n            {children}\n          </span>\n          {afterTitle && <div className={styles['Header__content__after']}>{afterTitle}</div>}\n          {hasReactNode(indicator) && (\n            <Footnote className={styles['Header__indicator']} weight=\"2\">\n              {indicator}\n            </Footnote>\n          )}\n        </HeaderContent>\n        {hasReactNode(subtitle) && (\n          <div className={styles['Header__subtitleWrapper']}>\n            {beforeSubtitle && (\n              <div className={styles['Header__subtitleBefore']}>{beforeSubtitle}</div>\n            )}\n            <Subhead\n              className={classNames(\n                styles['Header__subtitle'],\n                multiline && styles['Header__content--multiline'],\n              )}\n              Component={subtitleComponent}\n            >\n              {subtitle}\n            </Subhead>\n            {afterSubtitle && (\n              <div className={styles['Header__subtitleAfter']}>{afterSubtitle}</div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {hasReactNode(aside) && (\n        <Paragraph className={styles['Header__aside']} Component=\"span\">\n          {aside}\n        </Paragraph>\n      )}\n    </RootComponent>\n  );\n};\n"],"names":["React","classNames","hasReactNode","isPrimitiveReactNode","usePlatform","RootComponent","Footnote","Headline","Paragraph","Subhead","Title","styles","HeaderContent","mode","size","restProps","isLarge","platform","level","weight","caps","stylesMode","primary","secondary","tertiary","Header","Component","children","subtitle","subtitleComponent","indicator","aside","multiline","before","beforeTitle","afterTitle","beforeSubtitle","afterSubtitle","baseClassName","div","className","span"],"mappings":"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"}