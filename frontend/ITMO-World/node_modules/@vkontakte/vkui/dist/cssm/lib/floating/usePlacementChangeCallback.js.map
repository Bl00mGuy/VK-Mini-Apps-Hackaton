{"version":3,"sources":["../../../../src/lib/floating/usePlacementChangeCallback.ts"],"sourcesContent":["import { usePrevious } from '../../hooks/usePrevious';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport type { OnPlacementChange, Placement, PlacementWithAuto } from './types/common';\n\nexport function usePlacementChangeCallback(\n  initialPlacement: PlacementWithAuto,\n  resolvedPlacement: Placement,\n  onPlacementChange: OnPlacementChange | undefined,\n): void {\n  const prevPlacement = usePrevious(resolvedPlacement);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!onPlacementChange) {\n      return;\n    }\n    const isInitialPlacementChanged =\n      prevPlacement === undefined && initialPlacement !== resolvedPlacement;\n    const isResolvedPlacementChanged =\n      prevPlacement !== undefined && prevPlacement !== resolvedPlacement;\n    if (isInitialPlacementChanged || isResolvedPlacementChanged) {\n      onPlacementChange(resolvedPlacement);\n    }\n  }, [prevPlacement, initialPlacement, resolvedPlacement, onPlacementChange]);\n}\n"],"names":["usePrevious","useIsomorphicLayoutEffect","usePlacementChangeCallback","initialPlacement","resolvedPlacement","onPlacementChange","prevPlacement","isInitialPlacementChanged","undefined","isResolvedPlacementChanged"],"mappings":"AAAA,SAASA,WAAW,QAAQ,0BAA0B;AACtD,SAASC,yBAAyB,QAAQ,+BAA+B;AAGzE,OAAO,SAASC,2BACdC,gBAAmC,EACnCC,iBAA4B,EAC5BC,iBAAgD;IAEhD,MAAMC,gBAAgBN,YAAYI;IAElCH,0BAA0B;QACxB,IAAI,CAACI,mBAAmB;YACtB;QACF;QACA,MAAME,4BACJD,kBAAkBE,aAAaL,qBAAqBC;QACtD,MAAMK,6BACJH,kBAAkBE,aAAaF,kBAAkBF;QACnD,IAAIG,6BAA6BE,4BAA4B;YAC3DJ,kBAAkBD;QACpB;IACF,GAAG;QAACE;QAAeH;QAAkBC;QAAmBC;KAAkB;AAC5E"}