{"version":3,"sources":["../../../src/hooks/useMutationObserver.ts"],"sourcesContent":["import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useStableCallback } from './useStableCallback';\n\nexport const useMutationObserver = (\n  ref: React.MutableRefObject<HTMLElement | null> | React.RefObject<HTMLElement | null> | null,\n  callback: () => void,\n): void => {\n  const stableCallback = useStableCallback(callback);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref || !ref.current) {\n      return;\n    }\n    const observer = new MutationObserver(stableCallback);\n    observer.observe(ref.current, {\n      subtree: true,\n      childList: true,\n    });\n    return () => observer.disconnect();\n  }, [ref, stableCallback]);\n};\n"],"names":["useIsomorphicLayoutEffect","useStableCallback","useMutationObserver","ref","callback","stableCallback","current","observer","MutationObserver","observe","subtree","childList","disconnect"],"mappings":"AACA,SAASA,yBAAyB,QAAQ,mCAAmC;AAC7E,SAASC,iBAAiB,QAAQ,sBAAsB;AAExD,OAAO,MAAMC,sBAAsB,CACjCC,KACAC;IAEA,MAAMC,iBAAiBJ,kBAAkBG;IAEzCJ,0BAA0B;QACxB,IAAI,CAACG,OAAO,CAACA,IAAIG,OAAO,EAAE;YACxB;QACF;QACA,MAAMC,WAAW,IAAIC,iBAAiBH;QACtCE,SAASE,OAAO,CAACN,IAAIG,OAAO,EAAE;YAC5BI,SAAS;YACTC,WAAW;QACb;QACA,OAAO,IAAMJ,SAASK,UAAU;IAClC,GAAG;QAACT;QAAKE;KAAe;AAC1B,EAAE"}